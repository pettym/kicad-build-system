kibot:
  #https://github.com/skorokithakis/KiBot
  version: 1

global:
  environment:
    # third_party:
    extra_os:
      - name: NONDISTRIB
        value: nondistrib-pcb-library


preflight:
   run_erc: false
   run_drc: false
   update_xml: true
   check_zone_fills: true
   ignore_unconnected: false
   
   set_text_variables:
     - name: repo
       command: echo "${GITHUB_REPOSITORY}" | awk -F / '{ print $NF }'

     - name: version
       command: echo "${VERSION:=${GITHUB_REF_NAME:=no_version}}"

     - name: date
       command: date +"%B %d, %Y"
       #command: date +"%Y-%m-%d"

import:
  - output-jlcpcb-gerbers.yaml
  - output-thumbnails.yaml

# outputs:
  ################
  # Generate BOM #
  ################

  # - name: "BOM"
  #   type: bom
  #   dir: bom
  #   options:
  #     columns: [ "Description", "Part", "Quantity Per PCB", "Mouser Price/Stock", "Mouser Part Number", "Datasheet",
  #     "Manufacturer_Name", "Manufacturer_Part_Number", "Footprint"]
  #     format: HTML
        
  
  # - name: 'kicad-bom'
  #   comment: "KiCad Bom"
  #   type: kibom
  #   dir: bom

  # - name: 'kicad-cost'
  #   comment: "KiCad Cost"
  #   type: kicost
  #   dir: bom
